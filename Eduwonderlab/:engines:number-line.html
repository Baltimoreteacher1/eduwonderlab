<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Number Line Engine</title>
<style>
:root{
--bg:#f7f9fc;--card:#fff;--text:#111827;--border:#d9dfe8;
--accent:#2563eb;--ok:#065f46;--bad:#b91c1c;
}
body{margin:0;font-family:system-ui;background:var(--bg);color:var(--text)}
header{padding:14px 18px;border-bottom:1px solid var(--border);background:#fff;font-weight:800}
.wrap{max-width:1000px;margin:auto;padding:18px}
.card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:16px}
.line{position:relative;height:120px;margin:20px 0}
.track{position:absolute;top:60px;left:0;right:0;height:4px;background:#000}
.tick{position:absolute;top:50px;width:1px;height:24px;background:#000}
.label{position:absolute;top:76px;font-size:12px;transform:translateX(-50%)}
.dot{
position:absolute;top:52px;width:18px;height:18px;
border-radius:50%;background:var(--accent);
transform:translate(-50%,-50%);
cursor:pointer;
}
input{padding:10px;border-radius:10px;border:1px solid var(--border);font-size:16px}
button{padding:10px 14px;border:none;border-radius:12px;background:var(--accent);color:white;font-weight:700;cursor:pointer}
.msg{margin-top:12px;font-weight:700}
.ok{color:var(--ok)}
.bad{color:var(--bad)}
textarea{width:100%;margin-top:10px;border-radius:10px;padding:10px;border:1px solid var(--border)}
</style>
</head>
<body>

<header>Number Line Explorer</header>

<div class="wrap">
<div class="card">

<div id="prompt">Plot the number on the line.</div>

<div class="line" id="line">
<div class="track"></div>
</div>

<input id="answer" placeholder="Type value you plotted">
<button onclick="check()">Check</button>

<div id="msg" class="msg"></div>

<h3>Explain Your Thinking (Required)</h3>
<textarea id="explain" placeholder="I placed it here because..."></textarea>

</div>
</div>

<script>
const url=new URL(location.href);
const standard=url.searchParams.get("standard")||"6.NS";
const min=-10,max=10;
let target;

const line=document.getElementById("line");

function makeLine(){
for(let i=min;i<=max;i++){
const p=((i-min)/(max-min))*100;

const t=document.createElement("div");
t.className="tick";
t.style.left=p+"%";
line.appendChild(t);

const l=document.createElement("div");
l.className="label";
l.style.left=p+"%";
l.textContent=i;
line.appendChild(l);
}

target=Math.floor(Math.random()*21)-10;
document.getElementById("prompt").textContent=
"Plot "+target+" on the number line.";

const dot=document.createElement("div");
dot.className="dot";
dot.style.left="50%";
line.appendChild(dot);

dot.onmousedown=e=>{
document.onmousemove=ev=>{
let rect=line.getBoundingClientRect();
let x=(ev.clientX-rect.left)/rect.width;
x=Math.max(0,Math.min(1,x));
dot.style.left=(x*100)+"%";
};
document.onmouseup=()=>document.onmousemove=null;
};
}

function check(){
const msg=document.getElementById("msg");
const dot=document.querySelector(".dot");
let pos=parseFloat(dot.style.left)/100;
let value=min+(max-min)*pos;
value=Math.round(value);

let typed=document.getElementById("answer").value.trim();
let written=document.getElementById("explain").value.trim();

if(!written || written.length<20){
msg.textContent="Write your explanation first.";
msg.className="msg bad";
return;
}

if(String(value)===typed){
msg.textContent="Correct!";
msg.className="msg ok";
}else{
msg.textContent="Not yet. Check spacing between integers.";
msg.className="msg bad";
}
}

makeLine();
</script>
</body>
</html>